{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-9fe410768208fa8f.js","src/index.js","src/js/elementsRender/renderAlphabet.js","node_modules/@parcel/runtime-js/lib/runtime-f758937f109a8a37.js","src/js/elementsMarkup/cocktailCard.js","src/js/modals/cocktailModalMarkup.js","src/js/elementsMarkup/alphabet.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.aa81087d.js\\\",\\\"4R51k\\\":\\\"icons-sprite.4751cb04.svg\\\",\\\"7z7ID\\\":\\\"favIngridients.b82482c8.js\\\"}\"));","import './js/modals/mobileMenu';\nimport Notiflix from 'notiflix';\nimport { elementsRef } from './js/elementsRefs/references';\nimport { renderAlphabet } from './js/elementsRender/renderAlphabet';\nimport {\n  renderGallery,\n  createPagination,\n} from './js/elementsRender/renderGallery';\nimport {\n  getRandomCocktails,\n  getCocktailsByLetter,\n  getCocktailByName,\n  getCocktailsById,\n} from './js/api/api';\nimport { updateFavBtnContent } from './js/btnComponent/updateBtnContent';\nimport { constants } from './js/constantsStorage/constants';\nimport { updateLocalStorage } from './js/localStorage/localStorage';\nimport { createModal } from './js/modals/createModal';\nimport { createCocktailModalMarkup } from './js/modals/cocktailModalMarkup';\nimport { createCocktailCardMarkup } from './js/elementsMarkup/cocktailCard';\nimport { calcCardsPerPage } from './js/elementsRender/renderGallery';\nimport { showMsgNotFound } from './js/utils/utils';\nimport { changeColorTheme } from './js/changeColorTheme';\n\nelementsRef.alphabetListEl.addEventListener('click', alphabetSearchHandler);\nelementsRef.cocktailsListEl.addEventListener('click', cocktailCardHandler);\nelementsRef.searchFormRef.addEventListener('submit', searchFormHandler);\nelementsRef.themeColorToggleEl.addEventListener('change', themeColorHandler);\n\n\ninitAlphabetSearch();\ngenerateRandomCocktails();\n\n// Generate alphabet search on page\nfunction initAlphabetSearch() {\n  renderAlphabet();\n  elementsRef.selectValue.addEventListener('click', onToggleSelectOptions);\n  elementsRef.selectMobileEl.addEventListener(\n    'click',\n    alphabetSearchMobileHandler\n  );\n}\n\n// Generate random cocktails list after page loading\nasync function generateRandomCocktails() {\n  try {\n    const randomCocktailsData = [];\n    for (let i = 1; i <= calcCardsPerPage(); i++) {\n      const { drinks } = await getRandomCocktails();\n      randomCocktailsData.push(drinks);\n    }\n    renderGallery(\n      randomCocktailsData.flat(),\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// Generate filtered cocktails by letter\nasync function alphabetSearchHandler(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n\n  await searchCocktails(e.target.value, getCocktailsByLetter);\n\n  // try {\n  //   const filteredCocktailByLetter = await getCocktailsByLetter(e.target.value);\n\n  //   showNotFoundMsg(\n  //     filteredCocktailByLetter,\n  //     elementsRef.cocktailsListEl,\n  //     elementsRef.paginationEl\n  //   );\n\n  //   if (filteredCocktailByLetter) {\n  //     renderGallery(\n  //       filteredCocktailByLetter,\n  //       elementsRef.cocktailsListEl,\n  //       createCocktailCardMarkup\n  //     );\n  //     createPagination(\n  //       filteredCocktailByLetter,\n  //       elementsRef.cocktailsListEl,\n  //       createCocktailCardMarkup\n  //     );\n  //   }\n  // } catch (error) {\n  //   console.log(error);\n  // }\n}\n\nasync function alphabetSearchMobileHandler(e) {\n  elementsRef.selectValue.firstElementChild.textContent = e.target.textContent;\n  onToggleSelectOptions();\n  activeFill();\n\n  await searchCocktails(e.target.dataset.value, getCocktailsByLetter);\n  // try {\n  //   const filteredCocktailByLetter = await getCocktailsByLetter(\n  //     e.target.dataset.value\n  //   );\n\n  //   showNotFoundMsg(\n  //     filteredCocktailByLetter,\n  //     elementsRef.cocktailsListEl,\n  //     elementsRef.paginationEl\n  //   );\n\n  //   if (filteredCocktailByLetter) {\n  //     renderGallery(\n  //       filteredCocktailByLetter,\n  //       elementsRef.cocktailsListEl,\n  //       createCocktailCardMarkup\n  //     );\n  //     createPagination(\n  //       filteredCocktailByLetter,\n  //       elementsRef.cocktailsListEl,\n  //       createCocktailCardMarkup\n  //     );\n  //   }\n  // } catch (error) {\n  //   console.log(error);\n  // }\n}\n\n// Handle search query\nasync function searchFormHandler(e) {\n  e.preventDefault();\n  const searchQuery = e.target.elements.search.value.trim();\n  if (!searchQuery) {\n    Notiflix.Notify.warning('Please, enter the correct search query');\n  } else {\n    await searchCocktails(searchQuery, getCocktailByName);\n    document.querySelector('.header').classList.remove('menu-active');\n    // try {\n    //   const filteredCocktailsByName = await getCocktailByName(searchQuery);\n\n    //   showNotFoundMsg(\n    //     filteredCocktailsByName,\n    //     elementsRef.cocktailsListEl,\n    //     elementsRef.paginationEl\n    //   );\n\n    //   if (filteredCocktailsByName) {\n    //     renderGallery(\n    //       filteredCocktailsByName,\n    //       elementsRef.cocktailsListEl,\n    //       createCocktailCardMarkup\n    //     );\n    //     createPagination(\n    //       filteredCocktailsByName,\n    //       elementsRef.cocktailsListEl,\n    //       createCocktailCardMarkup\n    //     );\n    //   }\n    // } catch (error) {\n    //   console.log(error);\n    // }\n  }\n}\n\n// General function to get cocktail info and render gallery\nasync function searchCocktails(searchQuery, getCocktail) {\n  try {\n    const foundCocktail = await getCocktail(searchQuery);\n\n    // Print a message when no cocktail is found\n    showMsgNotFound(\n      foundCocktail,\n      elementsRef.cocktailsListEl,\n      elementsRef.paginationEl\n    );\n\n    // Render cocktails gallery when the request is successful\n    if (foundCocktail) {\n      createPagination(\n        foundCocktail,\n        elementsRef.cocktailsListEl,\n        createCocktailCardMarkup\n      );\n\n      renderGallery(\n        foundCocktail,\n        elementsRef.cocktailsListEl,\n        createCocktailCardMarkup\n      );\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// Handle button clicks in the card\nasync function cocktailCardHandler(e) {\n  if (!e.target.closest('BUTTON')) {\n    return;\n  }\n\n  const cocktailCardEl = e.target.closest('[data-id]');\n  const cocktailId = cocktailCardEl.dataset.id;\n\n  const btnEl = e.target.closest('.js-btn-fav');\n  if (btnEl) {\n    updateLocalStorage(cocktailId, constants.favCocktailStorageKey);\n\n    btnEl.innerHTML = updateFavBtnContent(\n      cocktailId,\n      constants.favCocktailStorageKey\n    );\n  }\n  if (e.target.classList.contains('js-btn-more')) {\n    const cocktailInfo = await getCocktailsById(cocktailId);\n\n    // const ingredientModalContent = createIngredientsListMarkup(cocktailInfo[0]);\n\n    const cocktailModalContent = createCocktailModalMarkup(cocktailInfo[0]);\n\n    createModal(\n      cocktailModalContent,\n      cocktailId,\n      constants.favCocktailStorageKey\n    );\n  }\n}\n\nfunction themeColorHandler() {\n  console.log('test');\n  changeColorTheme();\n}\n\n//====Utils for alphabet search====\nfunction onToggleSelectOptions() {\n  elementsRef.selectOptions.classList.toggle('is-hidden');\n}\n\nfunction activeFill() {\n  elementsRef.selectValue.classList.add('active-letter');\n  elementsRef.selectValue.childNodes[3].classList.add('active-icon');\n}\n","import { elementsRef } from '../elementsRefs/references';\nimport {\n  createDesktopAlphabetMarkup,\n  createMobileAlphabetMarkup,\n} from '../elementsMarkup/alphabet';\n\nexport function renderAlphabet() {\n  elementsRef.selectMobileEl.innerHTML = createMobileAlphabetMarkup();\n  elementsRef.selectWidescreenEl.innerHTML = createDesktopAlphabetMarkup();\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4R51k\")).toString();","import sprite from '../../images/svg/icons-sprite.svg';\nimport { updateFavBtnContent } from '../btnComponent/updateBtnContent';\nimport { constants } from '../constantsStorage/constants';\n\nexport function createCocktailCardMarkup(cocktail) {\n  return `<li class=\"cocktails__list-item\">\n    <div class=\"cocktail-card\" data-id=\"${cocktail.idDrink}\">\n        <div class=\"cocktail-card__img-wrapper\">\n            <img class=\"cocktail-card__img\" src=\"${\n              cocktail.strDrinkThumb\n            }\" alt=\"cocktail\" class=\"cocktails__img\" />\n        </div>\n        <p class=\"cocktail-card__name\">${cocktail.strDrink}</p>\n        <div class=\"cocktail-card__btns-block\">\n            <button class=\"button cocktail-card__btn cocktail-card__btn--accent js-btn-more\">\n                Learn more\n            </button>\n            <button class=\"button cocktail-card__btn cocktail-card__btn--transp cocktail-card__btn--centered js-btn-fav\">\n                ${updateFavBtnContent(\n                  cocktail.idDrink,\n                  constants.favCocktailStorageKey\n                )}\n            </button>\n        </div>\n    </div>\n</li>`;\n}\n","import sprite from '../../images/svg/icons-sprite.svg';\n\nexport function createCocktailModalMarkup(cocktail) {\n  return ` \n  <div class=\"modal cocktail js-cocktail-modal\">\n      <button class=\"button close-btn js-modal-close-btn\" type=\"button\">\n        <svg width=\"32\" height=\"32\">\n          <use href=\"${sprite}#close\"></use>\n        </svg>\n      </button>\n       <p class=\"cocktail__title js-cocktail-title\">${cocktail.strDrink}</p>\n    <div class=\"cocktail__main-content\">\n      <div class=\"cocktail__desc-wrapper\">\n        <p class=\"cocktail__instruction\">Instructions:</p>\n        <p class=\"cocktail__desc js-cocktail-desk\">${\n          cocktail.strInstructions\n        }</p>\n      </div>\n      <div class=\"cocktail__img-wrapper\">\n        <img\n          class=\"cocktail__img js-cocktail-img\"\n          src=\"${cocktail.strDrinkThumb}\"\n          alt=\"cocktail\"\n        />\n      </div>\n      <div class=\"cocktail__info-block\">\n        <p class=\"cocktail__info-text\">INGREDIENTS</p>\n        <p class=\"cocktail__info-amount\">Per cocktail</p>\n        <ul class=\"cocktail__ingredients js-cocktail-ingredients\">\n        ${createIngredientsListMarkup(cocktail)}\n        </ul>\n      </div>\n    </div>\n      <button class=\"button cocktail__button js-cocktail-add-btn\">\n        Add to favorite\n      </button>\n    </div>\n  `;\n}\n\nfunction createIngredientsListMarkup(cocktail) {\n  let markup = '';\n  let ingredient;\n  let measure;\n\n  for (let i = 1; i <= 15; i += 1) {\n    ingredient = 'strIngredient' + i;\n    measure = 'strMeasure' + i;\n\n    if (cocktail[measure] && cocktail[ingredient]) {\n      markup += `<li cocktail[]><a data-name=\"${cocktail[ingredient]}\">${cocktail[measure]} ${cocktail[ingredient]}</a></li>`;\n    }\n  }\n  return markup;\n}\n","const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';\n\n// Create markup for alphabet search on tablet or desktop ver\nexport function createDesktopAlphabetMarkup() {\n  return [...alphabet]\n    .map(letter => {\n      return `<li class=\"hero__alphabets-item\"><button class=\"hero__alphabets-button button\" value=\"${letter.toLowerCase()}\">${letter}</button></li>`;\n    })\n    .join('');\n}\n\n// Create markup for alphabet search on mobile\nexport function createMobileAlphabetMarkup() {\n  return [...alphabet]\n    .map(letter => {\n      return `<li class=\"hero__select-option\" data-value=\"${letter.toLowerCase()}\">${letter.toUpperCase()}</li>`;\n    })\n    .join('');\n}\n"],"names":["parcelRequire","register","JSON","parse","$4iYcx","$bbecfa41907085f9$exports","URL","resolve","import","meta","url","toString","$1d9448327afd45a1$export$718ed3bbb47d37af","cocktail","idDrink","strDrinkThumb","strDrink","$kK2SA","updateFavBtnContent","$gGAPY","constants","favCocktailStorageKey","async","$1f0dc3b9307be026$var$alphabetSearchMobileHandler","e","elementsRef","selectValue","firstElementChild","textContent","target","$1f0dc3b9307be026$var$onToggleSelectOptions","classList","add","childNodes","$1f0dc3b9307be026$var$searchCocktails","dataset","value","$4emys","getCocktailsByLetter","searchQuery","getCocktail","foundCocktail","$jXDaJ","showMsgNotFound","cocktailsListEl","paginationEl","$7ExxV","createPagination","renderGallery","error","console","log","selectOptions","toggle","alphabetListEl","addEventListener","nodeName","closest","cocktailId","id","btnEl","$e6wCE","updateLocalStorage","innerHTML","contains","cocktailInfo","getCocktailsById","cocktailModalContent","$parcel$interopDefault","strInstructions","ingredient","measure","markup","i","$21c9d1bb5843aa9d$var$createIngredientsListMarkup","$6bDXm","createModal","searchFormRef","preventDefault","elements","search","trim","getCocktailByName","document","querySelector","remove","$7Y9D8","Notify","warning","themeColorToggleEl","$9MdKn","changeColorTheme","selectMobileEl","map","letter","toLowerCase","toUpperCase","join","selectWidescreenEl","randomCocktailsData","calcCardsPerPage","drinks","getRandomCocktails","push","flat","$1f0dc3b9307be026$var$generateRandomCocktails"],"version":3,"file":"index.aa81087d.js.map"}