{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-7195578c8a22d20a.js","src/favCocktail.js","src/js/modals/cocktailModalMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-01d21d295dcafe18.js","src/js/elementsMarkup/cocktailCard.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7zczD\\\":\\\"favCocktail.e2668c71.js\\\",\\\"lUHFy\\\":\\\"icons-sprite.4751cb04.svg\\\",\\\"hYG8u\\\":\\\"favIngridients.8290d7f5.js\\\",\\\"dv88K\\\":\\\"favIngridients.89a9ba96.js\\\"}\"));","import Notiflix from 'notiflix';\nimport './js/modals/mobileMenu';\nimport { elementsRef } from './js/elementsRefs/references';\nimport { updateLocalStorage } from './js/localStorage/localStorage';\nimport { constants } from './js/constantsStorage/constants';\nimport { getCocktailsById } from './js/api/api';\nimport {\n  renderGallery,\n  createPagination,\n} from './js/elementsRender/renderGallery';\nimport { createCocktailModalMarkup } from './js/modals/cocktailModalMarkup';\nimport { createModal } from './js/modals/createModal';\nimport { createCocktailCardMarkup } from './js/elementsMarkup/cocktailCard';\nimport { showMsgNotFound } from './js/utils/utils';\nimport { getFavItemsByIds } from './js/elementsFav/getFavItems';\nimport { changeColorTheme} from './js/changeColorTheme';\n\nwindow.addEventListener('load', favCocktailsHandler);\nelementsRef.searchFormRef.addEventListener('submit', searchFavCocktailHandler);\nelementsRef.cocktailsListEl.addEventListener('click', cocktailCardHandler);\nelementsRef.themeColorToggleEl.addEventListener('change', () => {\n \n});\n\nasync function favCocktailsHandler() {\n  // const filteredCocktailsById = await getCocktailByStorageIds();\n\n  const filteredCocktailsById = await getFavItemsByIds(\n    constants.favCocktailStorageKey,\n    getCocktailsById\n  );\n\n  if (filteredCocktailsById) {\n    displayGallery(filteredCocktailsById);\n  }\n\n  // if (!filteredCocktailsById) {\n  //   elementsRef.notFoundTextEl.classList.remove('is-hidden');\n  // } else {\n  //   // renderGallery(\n  //   //   filteredCocktailsById,\n  //   //   elementsRef.cocktailsListEl,\n  //   //   createCocktailCardMarkup\n  //   // );\n  //   // createPagination(\n  //   //   filteredCocktailsById,\n  //   //   elementsRef.cocktailsListEl,\n  //   //   createCocktailCardMarkup\n  //   // );\n  //   displayGallery(filteredCocktailsById);\n  // }\n}\n\nasync function searchFavCocktailHandler(e) {\n  e.preventDefault();\n\n  const searchQuery = e.target.elements.search.value.trim();\n  if (!searchQuery) {\n    Notiflix.Notify.warning('Please, enter the correct search query');\n    return;\n  }\n\n  // const filteredCocktailsById = await getCocktailByStorageIds();\n  const filteredCocktailsById = await getFavItemsByIds(\n    constants.favCocktailStorageKey,\n    getCocktailsById\n  );\n\n  if (filteredCocktailsById) {\n    const filteredCocktailByName = filteredCocktailsById.filter(cocktail =>\n      cocktail.strDrink.toUpperCase().includes(searchQuery.toUpperCase())\n    );\n\n    showMsgNotFound(\n      filteredCocktailByName.length,\n      elementsRef.cocktailsListEl,\n      elementsRef.paginationEl\n    );\n\n    displayGallery(filteredCocktailByName);\n  } else {\n    Notiflix.Notify.info(\"You haven't any favorite cocktails\");\n  }\n\n  // if (filteredCocktailByName !== 0) {\n  //   renderGallery(\n  //     filteredCocktailByName,\n  //     elementsRef.cocktailsListEl,\n  //     createCocktailCardMarkup\n  //   );\n  //   createPagination(\n  //     filteredCocktailByName,\n  //     elementsRef.cocktailsListEl,\n  //     createCocktailCardMarkup\n  //   );\n  // }\n}\n\nasync function cocktailCardHandler(e) {\n  if (!e.target.closest('BUTTON')) {\n    return;\n  }\n\n  const cocktailCardEl = e.target.closest('[data-id]');\n  const cardId = cocktailCardEl.dataset.id;\n\n  const btnEl = e.target.closest('.js-btn-fav');\n  if (btnEl) {\n    updateLocalStorage(cardId, constants.favCocktailStorageKey);\n    cocktailCardEl.parentElement.remove();\n  }\n  if (e.target.classList.contains('js-btn-more')) {\n    const cocktailInfo = await getCocktailsById(cardId);\n\n    // const ingredientModalContent = createIngredientsListMarkup(cocktailInfo[0]);\n\n    const cocktailModalContent = createCocktailModalMarkup(cocktailInfo[0]);\n\n    createModal(cocktailModalContent, cardId, constants.favCocktailStorageKey);\n  }\n  if (elementsRef.cocktailsListEl.children.length === 0) {\n    location.reload();\n  }\n}\n\nfunction displayGallery(filteredCocktail) {\n  if (filteredCocktail !== 0) {\n    createPagination(\n      filteredCocktail,\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n\n    renderGallery(\n      filteredCocktail,\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n  }\n}\n\n// async function getCocktailByStorageIds() {\n//   const favCocktailsId = getFromLocalStorage(constants.favCocktailStorageKey);\n\n//   showNotFoundMessageOnFavPage(\n//     favCocktailsId.length,\n//     elementsRef.notFoundMsgOnFavPageEl\n//   );\n\n//   if (favCocktailsId.length === 0) {\n//     return false;\n//   } else {\n//     try {\n//       const cocktailCardsInfo = [];\n//       for (const id of favCocktailsId) {\n//         const favCocktail = await getCocktailsById(id);\n//         cocktailCardsInfo.push(favCocktail[0]);\n//       }\n//       return cocktailCardsInfo;\n//     } catch (error) {\n//       console.log(error);\n//     }\n//   }\n// }\n","import sprite from '../../images/svg/icons-sprite.svg';\n\nexport function createCocktailModalMarkup(cocktail) {\n  return ` \n  <div class=\"modal cocktail js-cocktail-modal\">\n      <button class=\"button close-btn js-modal-close-btn\" type=\"button\">\n        <svg width=\"32\" height=\"32\">\n          <use href=\"${sprite}#close\"></use>\n        </svg>\n      </button>\n       <p class=\"cocktail__title js-cocktail-title\">${cocktail.strDrink}</p>\n    <div class=\"cocktail__main-content\">\n      <div class=\"cocktail__desc-wrapper\">\n        <p class=\"cocktail__instruction\">Instructions:</p>\n        <p class=\"cocktail__desc js-cocktail-desk\">${\n          cocktail.strInstructions\n        }</p>\n      </div>\n      <div class=\"cocktail__img-wrapper\">\n        <img\n          class=\"cocktail__img js-cocktail-img\"\n          src=\"${cocktail.strDrinkThumb}\"\n          alt=\"cocktail\"\n        />\n      </div>\n      <div class=\"cocktail__info-block\">\n        <p class=\"cocktail__info-text\">INGREDIENTS</p>\n        <p class=\"cocktail__info-amount\">Per cocktail</p>\n        <ul class=\"cocktail__ingredients js-cocktail-ingredients\">\n        ${createIngredientsListMarkup(cocktail)}\n        </ul>\n      </div>\n    </div>\n      <button class=\"button cocktail__button js-cocktail-add-btn\">\n        Add to favorite\n      </button>\n    </div>\n  `;\n}\n\nfunction createIngredientsListMarkup(cocktail) {\n  let markup = '';\n  let ingredient;\n  let measure;\n\n  for (let i = 1; i <= 15; i += 1) {\n    ingredient = 'strIngredient' + i;\n    measure = 'strMeasure' + i;\n\n    if (cocktail[measure] && cocktail[ingredient]) {\n      markup += `<li cocktail[]><a data-name=\"${cocktail[ingredient]}\">${cocktail[measure]} ${cocktail[ingredient]}</a></li>`;\n    }\n  }\n  return markup;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('7zczD') + require('./helpers/bundle-manifest').resolve(\"lUHFy\");","import sprite from '../../images/svg/icons-sprite.svg';\nimport { updateFavBtnContent } from '../btnComponent/updateBtnContent';\nimport { constants } from '../constantsStorage/constants';\n\nexport function createCocktailCardMarkup(cocktail) {\n  return `<li class=\"cocktails__list-item\">\n    <div class=\"cocktail-card\" data-id=\"${cocktail.idDrink}\">\n        <div class=\"cocktail-card__img-wrapper\">\n            <img class=\"cocktail-card__img\" src=\"${\n              cocktail.strDrinkThumb\n            }\" alt=\"cocktail\" class=\"cocktails__img\" />\n        </div>\n        <p class=\"cocktail-card__name\">${cocktail.strDrink}</p>\n        <div class=\"cocktail-card__btns-block\">\n            <button class=\"button cocktail-card__btn cocktail-card__btn--accent js-btn-more\">\n                Learn more\n            </button>\n            <button class=\"button cocktail-card__btn cocktail-card__btn--transp cocktail-card__btn--centered js-btn-fav\">\n                ${updateFavBtnContent(\n                  cocktail.idDrink,\n                  constants.favCocktailStorageKey\n                )}\n            </button>\n        </div>\n    </div>\n</li>`;\n}\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$8d925b98675eb375$export$ebe4c3763f9e3cd2","cocktail","concat","$parcel$interopDefault","$ff8eb4a973bbeb64$exports","strDrink","strInstructions","strDrinkThumb","ingredient","measure","markup","i","$8d925b98675eb375$var$createIngredientsListMarkup","getBundleURL","resolve","$139a236c8de1d1d9$export$718ed3bbb47d37af","idDrink","$ekFVM","updateFavBtnContent","$a1YPt","constants","favCocktailStorageKey","$3b8009332ae14b00$var$_favCocktailsHandler","$2TvXO","mark","_callee","filteredCocktailsById","$8ta90","getFavItemsByIds","$1X4Nb","getCocktailsById","_ctx","sent","$3b8009332ae14b00$var$displayGallery","apply","this","arguments","$3b8009332ae14b00$var$_searchFavCocktailHandler","e","searchQuery","filteredCocktailByName","preventDefault","target","elements","search","value","trim","$6JpON","Notify","warning","filter","toUpperCase","includes","$5mnqR","showMsgNotFound","length","$1hJrM","elementsRef","cocktailsListEl","paginationEl","info","$3b8009332ae14b00$var$_cocktailCardHandler","cocktailCardEl","cardId","cocktailInfo","cocktailModalContent","closest","dataset","id","$8gjq0","updateLocalStorage","parentElement","remove","classList","contains","$6L0EN","createModal","children","location","reload","filteredCocktail","$f187r","createPagination","renderGallery","window","addEventListener","searchFormRef","themeColorToggleEl"],"version":3,"file":"favCocktail.e2668c71.js.map"}